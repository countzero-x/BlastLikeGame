# Возможные рефакторинги (которые я бы сделал в продуктовой разработке)

### Шаг 1: Убрать "god object" сценария
Сейчас есть один компонент/класс, который делает всё (клик → поиск группы → удаление → падение → спавн → win/lose → анимации),
то его нужно разделить:
- `BoardModel`, `GroupFinder`, `Gravity`, `Spawner`
- `GameSession` (оркестратор)
- `BoardView` (отрисовка и анимации)

### Шаг 2: Вынести конфиги и в бутстрапе только собирать из них игру 
- размеры поля, число цветов,
- лимит ходов, цель по очкам,
- формула очков (например: base * (groupSize^2) или другая),
- длительности анимаций.

### Шаг 3: Агреграция вместо наследования
Новые тайлы, бустеры я бы делал модульно, создавая "эффекты":
- супертайл был бы обычным тайлом с эффектами, которые умеют процессить события по типу "нажали", "переместили" и т.д.
- бустеры аналогично. были бы модули с обработкой эвентов. 
Все это сократило бы количество дублирующего кода.

### Шаг 4: Имутабельность контекстов
Не уверен, что сделал бы точно, но скорее всего запретил бы менять TurnContext, собирая вместо этого аутпут процессоров. Там много путаницы возникнет и сейчас и потом, но сейчас стремно, что процессоры спокойно меняют стейт игры

### Шаг 5: Сделать контроллеры
Сейчас вьюшки совсем тупые кроме BoardView, и им нужны контроллеры, чтобы отделить вью от логики совсем. Но сейчас есть GameController который ок имхо для такого объема игры.

### Шаг 6: 
Из доменной логики типа Score, Moves и т.д. можно было бы вынести процессоры в отдельные классы, чтобы их не связывать. Ок для текущего объема игры, но дальше точно разделил б

## SOLID — где важно, а где осознанно проще

- **SRP**: правила игры отдельно от рендера.
- **OCP**: эффекты/бустеры добавляются как новые стратегии/команды, без `switch-case` на весь проект.
- **LSP/ISP**: мелкие интерфейсы под эффекты/спавн/рандом.
- **DIP**: домен зависит от абстракций (`IRandom`, `IConfigProvider`), а инфраструктура предоставляет реализации.

Приоритет в тестовом: соблюсти DIP/SRP на основных местах, а "идеальную" плагинность оставить как план развития, чтобы не раздуть объем работы.